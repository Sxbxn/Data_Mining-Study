군집 분석이란?
  서로 유사한 정도에 따라 다수의 객체를 군집으로 나누는 작업 또는 이에 기반한 분석을 의미함.
  개체를 분류하기 위한 명확한 분류기준이 존재하지 않거나 기준이 밝혀지지 않은 상태에서 주어진 데이터들의 특성을 고려해 같은 그룹(클러스터)를 정의하고,
  다른 클러스터의 개체보다 서로 더 유사한 개체가 되도록 그룹화하여 그룹의 대표성을 찾아내는 방법
Cluster? 비슷한 특성을 가진 데이터들의 집합
Cluster의 기준 : 거리 -> 유클리디안 거리, 맨하탄 거리 등

군집분석 유형
  분할 군집화(비계층형 군집화) : 사전에 군집의 수를 정해주어 대상들이 군집에 할당되도록 하는 것 ex) K-Means algorithm
  계층형 군집화 : 각 객체가 n개(객체의 수)의 독립적인 각각의 군집에서 출발하여 점차 거리가 가까운 대상과 군집을 이루어 가는 것 ex) H-Clustering algorithm

계층형 군집화(Hierarchical Clustering)의 정의
개체들을 가까운 집단부터 차근차근 묶어나가는 방식. 군집화 결과뿐 아니라 유사한 개체들이 결합되는 덴드로그램(dendrogram)을 생성함.
이런 덴드로그램을 통해 군집이 어떻게 형성되는지와 유사성(거리) 수준을 평가할 수 있고, 임의로 커팅을 하여 최종 군집을 결정할 수 있음.
중복을 허용하여 clustering 하는 방법 (=군집 내에 군집이 속할 수 있음) 일정 높이에서 dendrogram을 잘라서 군집의 수 결정함.

1. 가장 거리가 가까운 데이터를 찾고, 이들을 묶는다.
2. 1을 모든 데이터가 하나의 클러스터로 묶일 때까지 반복한다.
3. 클러스터를 나눈다.

* 최단거리법(single) : 생성된 군집에서 중심과 거리가 가까운 데이터끼리 비교하여 가까운 데이터끼리 군집화 
* 최장거리법(complete) : 생성된 군집에서 중심과 거리가 먼 데이터끼리 비교하여 가장 가까운 데이터끼리 군집화
* 평균기준법(average) : 한 군집 안에 속한 모든 데이터와 다른 군집에 속한 모든 데이터의 두 집단에 대한 거리 평균을 계산하여 가까운 데이터끼리 군집화
* 중앙중심법(median)

데이터의 축소
  예측 목적이 아닌 데이터 축소 목적의 분석 기법 -> 전체적인 데이터의 구조 파악
  전체 집단을 파악하기 어려우므로, 군집으로 나누어 집단을 파악 (A : ~를 좋아한느 집단, B : ~를 싫어하는 집단)
  
- 거리척도(dissimilarity measure)는 무엇을 써야 할까?
- 어떤 linkage를 써야 할까?

계층적 클러스터링의 문제점
  계층적 클러스터링의 최대 문제점은 greedy algorithm이라는 점이다. 한 번 병합이 되거나 분리된 군집은 다시 되돌릴 수 없다.
  또한 앞서 알아본 것처럼 군집 간의 거리를 어떻게 계산하는지에 따라 노이즈와 아웃라이어에 취약하거나, 복잡한 군집을 다루지 못하는 등의 한계를 갖게 된다.
  계산복잡도가 K-평균 군집화보다 크다.

1. 거리를 측정하는 방법
L1 norm (manhattan distance)
L2 norm (euclidean distance)
mahalanobis (feature간의 공분산 행렬을 고려한 거리)
corr distance (상관계수 높을수록 거리 짧게)

2. cluster 간의 거리를 측정하는 방법
single linkage (군집 간 element끼리의 거리 중 min을 군집 간 거리로 설정)
complete linkage (군집 간 element끼리의 거리 중 max를 군집 간 거리로 설정)
average linkage (군집 간 element끼리의 모든 거리를 average)
centroid (군집의 centroid끼리의 거리)
ward (두 군집 간 제곱합 - (군집 내 제곱합의 합))
complete linkage 방식은 두 클러스터상에서 가장 먼 거리를 이용해서 측정하는 방식이고 반대로  single linkage 방식은 두 클러스터에서 가장 가까운 거리를 사용하는 방식
average linkage 방식은 각 클러스터내의 각 점에서 다른 클러스터내의 모든 점사이의 거리에 대한 평균을 사용하는 방식
이 linkage 방식에 따라서 군집이 되는 모양이 다르기 때문에, 데이타의 분포에 따라서 적절한 linkage  방식을 변화 시켜가면서 적용해가는 것이 좋음
